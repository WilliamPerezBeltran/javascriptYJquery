<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>

</body>
</html>





<!doctype html>
<html>
  <head>
      <link href="https://s3.amazonaws.com/codecademy-content/projects/bootstrap.min.css" rel="stylesheet" />
    <link href='https://fonts.googleapis.com/css?family=Roboto:500,300,700,400' rel='stylesheet' type='text/css'>
    <link href="css/main.css" rel="stylesheet" />
    <!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.5/angular.min.js"></script>
  </head>
  <body >
     <div class="col-md-6 col-md-offset-3">
	      <div  class="cajagrande">
	      	<div data-key="65" class="smallBox">
	      		<kbd>A</kbd>
	      		<span class="letrapequena">wily</span>
	      	</div>
	      	<div data-key="66" class="smallBox">
	      		<kbd>B</kbd>
	      		<span class="letrapequena">wali</span>
	      	</div>
	      	<div data-key="67" class="smallBox">
	      		<KBD>C</KBD> 
	      		<span class="letrapequena">woly</span>
	      	</div>
	      	<div data-key="68" class="smallBox">
	      		<kbd>D</kbd>
	      		<span class="letrapequena">wuly</span>
	      	</div>

	      </div>
     </div>

     <audio data-key="65" src="sounds/cavatina.mp3"></audio>
     <audio data-key="66" src="sounds/hihat.wav""></audio>
     <audio data-key="67" src="sounds/kick.wav"></audio>
     <audio data-key="68" src="sounds/openhat.wav"></audio>





    <!-- Controllers -->
    <script type="text/javascript">
    window.addEventListener("keydown", function(e){
    console.log(e.keyCode);
    //const audio= document.querySelector('audio[data-key=65]');
    //const audio = document.querySelector("audio[data-key=65]");
    const audio = document.querySelector(`audio[data-key="${e.keyCode}"]`);
    const key = document.querySelector(`.smallBox[data-key="${e.keyCode}"]`);
    //const audio = document.querySelector(`audio[data-key="${e.keyCode}"]`);

    console.log(audio);
    console.log("este es el key="+key);
    //console.log(this);
    audio.currentTime=0;//rewind to the star
    if (!audio) return;// stop the function from running all together
    audio.play(); 
    key.classList.add('playing');
    //key.classList.remove('playing');
    //key.classList.toggle('playing');
    });
    function removeTransition(e){
    	console.log(e.protertyName );
    	console.log('transitionend'+e.transitionend);
    	if(e.protertyName!=='transform')return;
    	this.classList.remove('playing');

    }
    const keys=document.querySelectorAll('.smallBox');
    console.log("keys= "+keys);
    
    keys.forEach(key => key.addEventListener('transitionend', removeTransition));


    </script>
  </body>
</html>
